<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Movilidad Académica Internacional</title>
    <link rel="stylesheet" href="css/jvectormap.css">
    <link rel="stylesheet" href="css/estilos.css">
  </head>
  <body>
    <div class="MainContainer">
      <header class="header-index scroller">
        <div class="header-index-container ">
          <div class="header-title-container">
            <img class="header-politecnico-logo" src="https://lh3.googleusercontent.com/te1s5pxh3EIAGpEwUkNVF_vUotjAxpbmSBndZzDV13wFdpqzt5a5qoVU_4xl7EHsKwE1FTVeL6IiOyDiWBR8ABYqobISqYY3B9Q7I3B6AcZ_WNHOAzg_XcpLYu0Kqd1dxynkWj8Wng=w2400">
            <p class="p-instituto">Instituto Politécnico Nacional</p>
          </div>
          <div class="header-internacional">
            <p class="header-internacional-texto">Movilidad Académica Internacional</p>
          </div>
        </div>
      </header>
      <section class="world-container">
        <div class="world-container-title">
          <p class="world-container-selection">Selecciona un país</p>
        </div>
         <div id="world-map"></div>
      </section>
      <section class="universities-container">
        <div class="universities">
          <div class="university">
            <p class="university-name">Universidad Politecnica de Madrid</p>
          </div>
          <div class="university">
            <p class="university-name">Universidad Politecnica de Barcelona</p>
          </div>
          <div class="university">
            <p class="university-name">Universidad Politecnica de Madrid</p>
          </div>
          <div class="university">
            <p class="university-name">Universidad Politecnica de Madrid</p>
          </div>
          <div class="university">
            <p class="university-name">Universidad Politecnica de Madrid</p>
          </div>

          <div class="university">
            <p class="university-name">Universidad Politecnica de Madrid</p>
          </div>
          <div class="university">
            <p class="university-name">Universidad Politecnica de Madrid</p>
          </div><div class="university">
            <p class="university-name">Universidad Politecnica de Madrid</p>
          </div><div class="university">
            <p class="university-name">Universidad Politecnica de Madrid</p>
          </div><div class="university">
            <p class="university-name">Universidad Politecnica de Madrid</p>
          </div><div class="university">
            <p class="university-name">Universidad Politecnica de Madrid</p>
          </div><div class="university">
            <p class="university-name">Universidad Politecnica de Madrid</p>
          </div>

        </div>
        <div class="country">
          <p>España</p>
          <a href="#">Enlace util</a><br>
          <a href="#">Enlace util</a>
        </div>
      </section>
      <section class="more-info">
        <div class="more-info-following">
          <p>Guía de Seguimiento</p>
        </div>
        <div class="more-info-payment">
          <p>Formalización de Pagos</p>
        </div>
        <div class="more-info-success">
          <p>Casos de Éxito</p>
        </div>
      </section>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>

    <!--<script type="text/javascript" src="js/jquery.js"></script>-->
    <script type="text/javascript" src="js/maps/jvectormap.min.js"></script>
    <script type="text/javascript" src="js/maps/world.js"></script>
    <script type="text/javascript">
      $(function(){

        $(window).scroll( function() {
          var scroll = $(window).scrollTop();
          var speed = 0.6;
          $('.scroller').each(function(){
        		  var $this = $(this);
              var $parent = $this.parent();
              var topOffset = $parent.offset().top;
              var height = $parent.outerHeight(true);
              var parallaxSize = (scroll - topOffset) * speed;

              // prevent parallax when scroll down
              if(scroll > topOffset + height) {
                  return;
              }

              $this.css({
                  'transform': scroll >= topOffset ? ('translateY(' + parallaxSize + 'px)' ) : ''
              });
        	});
        });

        $('.world-container-title').click(() => {
            $('html, body').animate({
                scrollTop: $('.world-container-title').offset().top
            }, 300);
        });


        // var plants = [
        //     {name: 'EUA', coords: [50.9030599, 6.4213693], status: 'mrk'}
        //   ];

        var more_info = {
          ES: {
            'schools': [
              'Universidad Autónoma de Barcelona',
              'Universidad de Alicante',
              'Universidad de Almería',
              'Universidad de Oviedo',
              'Universidad de Santiago de Compostela',
              'Universidad del País Vasco',
              'Universidad del Rey Juan Carlos',
              'Universidad Politécnica de Cataluña',
              'Universidad Politécnica de Madrid',
              'Universidad Politécnica de Valencia'
            ]
          }
        };

        var countries = {
            DE:'Alemania',
            AR:'Argentina',
            AU:'Australia',
            AT:'Austria',
            BE:'Bélgica',
            BR:'Brasil',
            CA:'Canadá',
            CL:'Chile',
            CN:'China',
            CO:'Colombia',
            KR:'Corea del Sur',
            CR:'Costa Rica',
            EC:'Ecuador',
            ES:'España',
            US:'Estados Unidos de América',
            FI:'Finlandia',
            FR:'Francia',
            NL:'Paises Bajos',
            IN:'India',
            IS:'Islandia',
            IT:'Italia',
            JP:'Japón',
            LV:'Letonía',
            MY:'Malasia',
            PA:'Panamá',
            PY:'Paraguay',
            PE:'Perú',
            PL:'Polonia',
            PT:'Portugal',
            CZ:'República Checa',
            SG:'Singapur',
            SE:'Suecia',
            TW:'Taiwán',
            UY:'Uruguay'
        }

        var colors = {};

        for(let key in countries){
          colors[key] = '#5D0227';
        }


        mapObj = new jvm.Map({
          container: $('#world-map'),
          map: 'world_mill',
          backgroundColor: 'rgba(193, 193, 193, 0.4)',
          zoomOnScroll: false,
          // markers: plants.map(function(h){ return {name: h.name, latLng: h.coords} }),
          series: {
            regions: [{
            values: colors
          }],
            // markers: [{
            //   attribute: 'image',
            //   scale: {
            //     'mrk': 'marker.png'
            //   },
            //   values: plants.reduce(function(p, c, i){ p[i] = c.status; return p }, {})
            // }]
          },
          // colors: colors,
          hoverOpacity: 0.7, // opacity for :hover
        	hoverColor: false,
          onRegionTipShow: function(event, label, code){
            if(code in countries)
              label.html(countries[code]);
            else
              event.preventDefault();
         },
         onRegionClick: function(event, code){
           if( !(code in countries) )
              return null;
           $('html, body').animate({
               scrollTop: $('.universities-container').offset().top
           }, 300);
         }
        });
      });

    </script>
  </body>
</html>
