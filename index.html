<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Movilidad Académica Internacional</title>
    <link rel="stylesheet" href="css/jvectormap.css">
    <link rel="stylesheet" href="css/estilos.css">

<style media="screen">
  .bg{
    background-image: url("https://lh3.googleusercontent.com/ksq9QQyGbAoaUDifHE5fxLFwQG7xHGjrVbYBqRw5Fw3cl62uTVZaEWGz4PEnBggyOED5M7q23eXWBPaOFw7L_a6qnnSIbSg6OuBGCaGEJ7s3nZZpTsl6hz4F2theC7jgm6a6olvpetnHnmoZU3IM2pRGzxHbEpXJyPZyL_2Ja3nAgB44isMm_Uw7IPcGw43jnC4guqidSrW-XNEE7sc85wFsNNkiZdoPKozLSOkBnIHHNb1cws2_Xws3qhFuvnL7byyjFERrU0u1QEwuA-yGILJNFGokQp7LcRmkTET4mPULuFy6qmrxRgy-ZUlYT5Uffr_t03H-WzmLfj84Uk86DpxXaTmT4jmbeOkwmFiF7zGK9KDeR4AI985r4Ii1JbRgVPgTuUfJuz2Y0jBJN74sM5pQEsUqYJ3Y1D40edrFKkEM26pOI_BJtAxgJV1K1IQuThIT0bPFo9CyQclRq1n7nV_WGdwTFZsiisSSQpgMWSIIlqL8F-Vtj5vRYRU6yim9E-MyqJwrw_64yub_foQNJl5yogDe6p-dlMKdH-q-LjY0w1Xm6ycR8VTNj_-7nIxnCyD2oPbcbFYndzwJaWBWpHBwZslzL8wYyGugdO4ANVky8tNHIBSqqJ7E_IoxxsU7JDqkBIx7YSeIishRkvvcfieN7l-YSRU=w1085-h723-no");
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
  }
</style>

  </head>
  <body>
    <div class="MainContainer">
      <header class="header-index scroller">
        <div class="header-index-container ">
          <div class="header-title-container">
            <img class="header-politecnico-logo" src="https://lh3.googleusercontent.com/te1s5pxh3EIAGpEwUkNVF_vUotjAxpbmSBndZzDV13wFdpqzt5a5qoVU_4xl7EHsKwE1FTVeL6IiOyDiWBR8ABYqobISqYY3B9Q7I3B6AcZ_WNHOAzg_XcpLYu0Kqd1dxynkWj8Wng=w2400">
            <p class="p-instituto">Instituto Politécnico Nacional</p>
          </div>
          <div class="header-internacional">
            <p class="header-internacional-texto">Movilidad Académica Internacional</p>
          </div>
        </div>
      </header>
      <section class="world-container">
        <div class="world-container-title">
          <p class="world-container-selection">Selecciona un país</p>
        </div>
         <div id="world-map"></div>
      </section>
      <section class="universities-container invisible bg">
        <div class="universities-container-gradient"></div>
        <div class="universities-decoration"></div>
        <div class="universities">
          <!-- <div class="university university-length-35">
            <p class="university-name">Universidad Politecnica de Madrid</p>
          </div>
          <div class="university university-length-35">
            <p class="university-name">Universidad Politecnica de Barcelona</p>
          </div>
          <div class="university university-length-35">
            <p class="university-name">Universidad Politecnica de Madrid</p>
          </div> -->
        </div>
        <div class="country">
          <p class="country-name">Universidades en España</p>
          <div class="">
            <p class="country-useful-link" href="#">Directorio del país</p>
          </div>
          <!-- <a class="country-useful-link" href="#">Enlace util</a> -->
        </div>
      </section>
      <section class="more-info">
        <div class="more-info-following">
          <p>Guía de Seguimiento</p>
        </div>
        <div class="more-info-payment">
          <p>Formalización de Pagos</p>
        </div>
        <div class="more-info-success">
          <p>Casos de Éxito</p>
        </div>
      </section>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>

    <!--<script type="text/javascript" src="js/jquery.js"></script>-->
    <script type="text/javascript" src="js/maps/jvectormap.min.js"></script>
    <script type="text/javascript" src="js/maps/world.js"></script>
    <script type="text/javascript">
      $(function(){

        $(window).scroll( function() {
          var scroll = $(window).scrollTop();
          var speed = 0.6;
          $('.scroller').each(function(){
        		  var $this = $(this);
              var $parent = $this.parent();
              var topOffset = $parent.offset().top;
              var height = $parent.outerHeight(true);
              var parallaxSize = (scroll - topOffset) * speed;

              // prevent parallax when scroll down
              if(scroll > topOffset + height) {
                  return;
              }

              $this.css({
                  'transform': scroll >= topOffset ? ('translateY(' + parallaxSize + 'px)' ) : ''
              });
        	});
        });

        if($(window).width() < 580)
          $('.header-index').removeClass('scroller');

        $(window).resize(function() {
          if($(window).width() < 580)
            $('.header-index').removeClass('scroller');
          else
            $('.header-index').addClass('scroller');
        });

        $('.world-container-title').click(() => {
            $('html, body').animate({
                scrollTop: $('.world-container-title').offset().top
            }, 300);
        });


        // var plants = [
        //     {name: 'EUA', coords: [50.9030599, 6.4213693], status: 'mrk'}
        //   ];

        var more_info = {
          ES: {
            'schools': [
              'Universidad Autónoma de Barcelona',
              'Universidad de Alicante',
              'Universidad de Almería',
              'Universidad de Oviedo',
              'Universidad de Santiago de Compostela',
              'Universidad del País Vasco',
              'Universidad del Rey Juan Carlos',
              'Universidad Politécnica de Cataluña',
              'Universidad Politécnica de Madrid',
              'Universidad Politécnica de Valencia'
            ],
            'isLarge': true
          },
          CA: {
            'schools': [
              "Bishop's University",
              "École de Technologie Supérieure",
              "École Polytechnique de Montreal",
              "Regina's University"
            ],
            'isLarge': false
          }
        };

        var countries = {
            DE:'Alemania',
            AR:'Argentina',
            AU:'Australia',
            AT:'Austria',
            BE:'Bélgica',
            BR:'Brasil',
            CA:'Canadá',
            CL:'Chile',
            CN:'China',
            CO:'Colombia',
            KR:'Corea del Sur',
            CR:'Costa Rica',
            EC:'Ecuador',
            ES:'España',
            US:'Estados Unidos de América',
            FI:'Finlandia',
            FR:'Francia',
            NL:'Paises Bajos',
            IN:'India',
            IS:'Islandia',
            IT:'Italia',
            JP:'Japón',
            LV:'Letonía',
            MY:'Malasia',
            PA:'Panamá',
            PY:'Paraguay',
            PE:'Perú',
            PL:'Polonia',
            PT:'Portugal',
            CZ:'República Checa',
            SG:'Singapur',
            SE:'Suecia',
            TW:'Taiwán',
            UY:'Uruguay'
        }

        var colors = {};

        for(let key in countries){
          colors[key] = '#5D0227';
        }


        mapObj = new jvm.Map({
          container: $('#world-map'),
          map: 'world_mill',
          backgroundColor: 'rgba(193, 193, 193, 0.4)',
          zoomOnScroll: false,
          // markers: plants.map(function(h){ return {name: h.name, latLng: h.coords} }),
          series: {
            regions: [{
            values: colors
          }],
            // markers: [{
            //   attribute: 'image',
            //   scale: {
            //     'mrk': 'marker.png'
            //   },
            //   values: plants.reduce(function(p, c, i){ p[i] = c.status; return p }, {})
            // }]
          },
          // colors: colors,
          hoverOpacity: 0.7, // opacity for :hover
        	hoverColor: false,
          onRegionTipShow: function(event, label, code){
            if(code in countries)
              label.html(countries[code]);
            else
              event.preventDefault();
         },
         onRegionClick: function(event, code){
            if( !(code in more_info) )
              return null;
            $('.universities-container').removeClass('invisible');
            let c = more_info[code];
            let $container = $('.universities');
            $container.html('');
            c.schools.forEach(function(school){
              $container.append(
                '<div class="university ' + ((c.isLarge) ? 'university-length-35':'university-length-100') + '">' +
                '<p class="university-name"> ' + school + ' </p>' +
                '</div>'
              );
            });
            $('.country-name').html('Universidades en ' + countries[code]);
            $('html, body').animate({
               scrollTop: $('.universities-container').offset().top
             }, 300);
         }
        });
      });

    </script>
  </body>
</html>
